
#global rules
<Button, Label>
    font_size: 30


<HUD@ActionBar>:
    pos_hint: {'top':1}
    ActionView:
        use_separator: True
        ActionPrevious:
            title: 'Action Bar'
            with_previous: False
        ActionOverflow:
        ActionButton:
            text: 'Btn1'
            on_press:
        ActionGroup:
            text: 'Help'
            ActionButton:
                text: 'Tutorial'
            ActionButton:
                text: 'Role Info'
            ActionButton:
                text: 'About'

#screen roll

<titleScreen>:
    BoxLayout:
        orientation: 'vertical'
        Image:
            source: 'logo.png'
        Button:
            size_hint: (1, .2)
            text: 'Start'
            on_press: root.manager.current = 'roleDistribution'

<setNumber>
    BoxLayout:
        orientation: 'vertical'
        Slider:
            step: 1
            id: playerNumberSlider
            range: (5, 9)
            value: 8
            orientation: 'horizontal'
        Button:
            text: 'Number of ? %s'  % int(playerNumberSlider.value)
            on_press: root.store()
            on_press: root.manager.current = 'setSetup'

<setSetup>
    on_enter: root.buildContent()
    BoxLayout:
        orientation: 'vertical'
        Accordion:
            orientation: 'vertical'
            id: setupAccordion
        Button:
            size_hint: (1, .2)
            text: 'I pick this one!'
            on_press: root.store()
            on_press: root.manager.current = 'setPlayers'

<setPlayers>
    on_enter: root.buildContent()
    BoxLayout:
        orientation: 'vertical'
        GridLayout:
            id: playerGrid
            cols: 2
        Button:
            size_hint: (1, .2)
            text: 'Set!'
            on_press: root.store()
            on_press: root.manager.current = 'roleDistribution'

<roleDistribution>
    on_enter: root.randomize()
    on_enter: root.buildContent()
    BoxLayout:
        orientation: 'vertical'
        GridLayout:
            cols: 3
            padding: 30
            spacing: 20
            id: roleLayout
        Label:
            text: 'View your role'
            size_hint: (1, .2)

<deadlineTimer>
    on_enter: root.buildContent()
    BoxLayout:
        id: deadlineTimer
        Label:
            #text: 'With %(living)s alive, the lynch threshold is %(threshold)s' % {'living': len(app.aliveList), 'threshold': len(app.aliveList)/2}

<Flip>
    on_enter: root.buildContent()
<Day>
    on_enter:root.buildContent()
    BoxLayout:
        id: dayBox
        orientation: 'vertical'
        Label:
            size_hint: (1, .2)
            text: 'The sun sets on Day %s. Who must die? '% app.dayCount
        GridLayout:
            id: dayGrid
            cols: 3
            padding: 30
            spacing: 20

<vengefulKill>
    on_enter: root.buildContent()
    on_leave: root.increase()
    BoxLayout:
        orientation: 'vertical'
        id: vengefulBox
        Label:
            size_hint: (1, .3)
            id: vengefulLabel
            text: 'Take a shot. Aint like you gotta live with yourself afterwards '
            halign: 'center'
            valign: 'middle'
        GridLayout:
            id: vengefulGrid
            cols: 3
            padding: 30
            spacing: 20

<endGame>
    BoxLayout:
        Label:
            text: 'This is the end'
        Button:
            text: 'Play again'
            on_press: root.reset()